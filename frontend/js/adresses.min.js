null==localStorage.getItem("sessionToken")&&location.replace("/");const BASE_HOST_APP=location.protocol+"//"+location.host,HOST_ADDR=BASE_HOST_APP.replace(":8080",":8000"),sessionTokenAddress=localStorage.getItem("sessionToken");function getAccountURLValue(){const e=new Proxy(new URLSearchParams(location.search),{get:(e,o)=>e.get(o)});if(e.account_name&&""!==e.account_name){return e.account_name}return"all_accounts"}function storeScrollPosition(){var e=window.scrollX,o=window.scrollY;localStorage.setItem("scrollPositionX",e),localStorage.setItem("scrollPositionY",o)}function scrollToStoredPosition(){var e=localStorage.getItem("scrollPositionX"),o=localStorage.getItem("scrollPositionY");null===e&&null===o||(window.scrollTo(e,o),localStorage.removeItem("scrollPositionX"),localStorage.removeItem("scrollPositionY"))}let dataToSend={};async function gatherData(e,o,t={}){try{const l=await fetch(e,{headers:{Authorization:`Token ${o}`}});if(l.ok){const c=await l.json();if(e.includes("get_accounts")){let n="";for(let i=0;i<c.length;i++)if(""!==location.search&&location.search.includes("account_name")){let d=new Proxy(new URLSearchParams(window.location.search),{get:(e,o)=>e.get(o)}).account_name;c[i].account_name===d?n+=0==i?`<option  value="all_accounts" data-id="all_accounts">Все адреса</option><option selected="selected" value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`:`<option selected="selected" value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`:n+=0==i?`<option value="all_accounts" data-id="all_accounts">Все адреса</option><option value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`:`<option value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`}else n+=0==i?`<option selected="selected" value="all_accounts" data-id="all_accounts">Все адреса</option><option value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`:`<option value="${c[i].account_name}" data-id="${c[i].id}">${c[i].account_name}</option>`;document.querySelector("select").innerHTML=n}else if(e.includes("address")){let r="";for(const _ in c){const g=c[_],u=_;r+=`<div class="adress_city">\n                                                <div class="city_name "><div class="city_name_word " >Город: ${u}</div>\n                                                    <input class="adress_text city_input d-none form_control_item_editing" value="${u}">\n                                                    <div class="adress_controls d-none">\n                                                        <div class="item_edit"></div>\n                                                        <div class="item_delete_chekbox_container ">\n                                                            <input type="checkbox" name="check_all" class="check_all" id="check_all">\n                                                            <label for="check_all"></label>\n                                                        </div>\n                                                        <div class="done_item_sign d-none"></div>\n                                                    </div>\n                                                </div>\n                                            \n                                                <div class="item_check_all_container d-none">\n                                                    <input type="checkbox" name="check_all" class="check_all" id="check_all">\n                                                    <label>Отметить все</label>\n                                                </div>\n                                                <div class="city_table">`;var s=g.current_page;if(dataToSend[`${u}`]=s,g.addresses.forEach(((e,o)=>{r+=`<div class="row_adress_item" data-id="${e.id}">\n                                                    <div class="start_label ${!0!==e.start||location.search.includes("account_name=all_accounts")&&"?"===location.search&&0===location.search.length?"":"s-active"}">START</div>\n                                                    <div class="center_part_of_row min_width ">\n                                                        <div class="adress_text adress_to_choose_for_edit "><span id="indexId">${100*(s-1)+(o+1)}</span><span class="address_text_string">${e.address}</span></div>\n                                                        <input class="adress_text d-none form_control_item_editing" value="${e.address}">\n                                                        <div class="used_time"><div class="label_use">USED AT:&nbsp;</div><div class="date_label">${e.time_used?e.time_used:"0000-00-00"}</div></div>\n                                                    </div>\n                                                    <div class="right_par_of_row ">\n                                                        <div class="adress_controls d-none">\n                                                            <div class="item_edit"></div>\n                                                            <div class="item_delete_chekbox_container">\n                                                                <input type="checkbox" name="delete_chek" class="item_delete_chekbox_for_id" id="delete_chek">\n                                                            </div>\n                                                            <div class="done_item_sign d-none"></div>\n                                                        </div>\n                                                    </div>\n                                                </div>`})),r+="</div>",0!==g.pages_amount){for(let f=0;f<g.pages_amount;f++)r+=0!=f?`<div class="b-pageNum-n ${g.current_page===f+1?"p-active":""}" data-page="${f+1}">${f+1}</div>`:`<div class="b-pageNum"> <div class="b-pageNum-n ${g.current_page===f+1?"p-active":""}" data-page="${f+1}">${f+1}</div>`;r+="</div>"}r+='<div class="add_btn add_adresses">&nbsp;&nbsp;Добавить</div></div>'}function a(e){let o=null;if(document.cookie&&""!==document.cookie){const t=document.cookie.split(";");for(let s=0;s<t.length;s++){const a=t[s].trim();if(a.substring(0,e.length+1)===e+"="){o=decodeURIComponent(a.substring(e.length+1));break}}}return o}document.querySelector(".adresses_container").innerHTML=r,document.querySelector(".adresses_container").innerHTML+='<div class="last_section_in_adresses"><div class="add_city add_btn">&nbsp;&nbsp;&nbsp;Город</div>',sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend)),$.ajaxSetup({beforeSend:function(e,o){/^http:.*/.test(o.url)||/^https:.*/.test(o.url)||e.setRequestHeader("X-CSRFToken",a("csrftoken"))},headers:{"X-CSRFToken":a("csrftoken"),Authorization:"Token "+sessionTokenAddress}}),$(document).ready((function(){scrollToStoredPosition(),$(".loader").toggleClass("d-block"),$(".enter_edits").off("click").on("click",(function(){$(".loader").toggleClass("d-block");[$(".b-pageNum"),$(".item_check_all_container"),$(".adress_controls"),$(".exit_edits"),$(".enter_edits"),$(".delete_controls_container"),$(".add_btn")].map((e=>{e.toggleClass("d-none")})),$(".center_part_of_row").toggleClass("min_width"),$(".loader").toggleClass("d-block"),$(".check_all").change((function(){const e=$(this).is(":checked");$(this).closest(".adress_city").find(".item_delete_chekbox_for_id").prop("checked",e)})),$(".city_name .item_edit").off("click").on("click",(function(){const e=$(this).closest(".adress_city");[e.find(".city_name .item_edit"),e.find(".city_name_word"),e.find(".city_input"),e.find(".city_name .done_item_sign")].map((e=>{e.toggleClass("d-none")})),e.find(".city_name .done_item_sign").off("click").on("click",(function(){const o=e.find(".city_name"),t=e.find(".city_name_word").text().replace("Город: ",""),s=o.find(".form_control_item_editing").val().trim(),a={old_city_name:t,new_city_name:s};$(".loader").toggleClass("d-block"),$.ajax({type:"POST",url:HOST_ADDR+"/api/refactor_city/",data:a,success:function(e){if(1==e.success){$(".loader").toggleClass("d-block"),o.find(".city_name_word").text("Город: "+s);[o.find(".item_edit"),o.find(".done_item_sign"),o.find(".form_control_item_editing"),o.find(".city_name_word")].map((e=>{e.toggleClass("d-none")})),Object.defineProperty(dataToSend,s,Object.getOwnPropertyDescriptor(dataToSend,t)),delete dataToSend[t],sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend))}else if(0==e.success){alert("Город уже существует или было задано пустое значение");[o.find(".item_edit"),o.find(".done_item_sign"),o.find(".form_control_item_editing"),o.find(".city_name_word")].map((e=>{e.toggleClass("d-none")}))}},error:function(e,t,s){console.log(e,t,s),alert("Город уже существует или было задано пустое значение"),$(".loader").toggleClass("d-block"),o.find(".form_control_item_editing").val("");[o.find(".item_edit"),o.find(".done_item_sign"),o.find(".form_control_item_editing"),o.find(".city_name_word")].map((e=>{e.toggleClass("d-none")}))}})}))}))})),$(".start_label").off("click").on("click",(function(){$(".loader").toggleClass("d-block");const e=parseInt($("select").find(":selected").data("id")),o=parseInt($(this).closest(".row_adress_item").data("id")),t=$(this).closest(".row_adress_item"),s=t.closest(".adress_city"),a={account_name:e,address:o};$.ajax({type:"POST",url:HOST_ADDR+"/api/reset_start/",data:a,success:function(e){1==e.success?(s.find(".s-active").removeClass("s-active"),t.find(".start_label").addClass("s-active"),$(".loader").toggleClass("d-block")):0==e.success&&(alert("Нельзя обновить старт для этого аккаунта"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Нельзя обновить старт для этого аккаунта"),$(".loader").toggleClass("d-block")}})})),$(".item_edit").off("click").on("click",(function(){const e=$(this).closest(".row_adress_item");[e.find(".item_edit"),e.find(".done_item_sign"),e.find(".form_control_item_editing"),e.find(".adress_to_choose_for_edit")].map((e=>{e.toggleClass("d-none")})),e.find(".done_item_sign").off("click").on("click",(function(){$(".loader").toggleClass("d-block");const o=parseInt(e.data("id")),t=e.find(".form_control_item_editing").val().trim(),s=parseInt($("select").find(":selected").data("id"));if(Number.isNaN(s)){const e={address_id:o,new_address:t};$.ajax({type:"POST",url:HOST_ADDR+"/api/refactor_address_for_all_accounts/",data:e,success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&(alert("Такой адрес уже существует"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Такой адрес уже существует"),$(".loader").toggleClass("d-block")}})}else if(!Number.isNaN(s)){const e={address_id:o,new_address:t,account_id:s};$.ajax({type:"POST",url:HOST_ADDR+"/api/refactor_address_for_account/",data:e,success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&(alert("Такой адрес уже существует"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Такой адрес уже существует, ошибка"),$(".loader").toggleClass("d-block")}})}}))})),$(".delete_for_account").off("click").on("click",(function(){const e=$(".item_delete_chekbox_for_id:checkbox:checked").closest(".row_adress_item"),o=$(".check_all:checkbox:checked").closest(".city_name");let t,s;const a=parseInt($("select").find(":selected").data("id"));if(0===e.length||Number.isNaN(a)){if(0!==e.length&&Number.isNaN(a)){$(".loader").toggleClass("d-block"),t={},t.id=0,t.addresses=[];for(const o of e)t.addresses.push({address:parseInt(o.attributes["data-id"].nodeValue)});const o=t;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_address_for_all_accounts/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?($(".loader").toggleClass("d-block"),storeScrollPosition(),location.reload()):0==e.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}}else{$(".loader").toggleClass("d-block"),t=[];for(const o of e)t.push({address:parseInt(o.attributes["data-id"].nodeValue)});const o=t;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_address_for_account/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?($(".loader").toggleClass("d-block"),storeScrollPosition(),location.reload()):0==e.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}if(0===o.length||Number.isNaN(a)){if(0!==o.length&&Number.isNaN(a)){$(".loader").toggleClass("d-block"),s=[];for(const e of o)s.push({city_name:e.children[1].value}),delete dataToSend[`${e.children[1].value}`];sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend));const e=s;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_city_for_all/",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?($(".loader").toggleClass("d-block"),storeScrollPosition(),location.reload()):0==e.success&&(alert("Город не может быть удален"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){alert("Город не может быть удален, ошибка"),$(".loader").toggleClass("d-block")}})}}else{$(".loader").toggleClass("d-block"),s=[];for(const e of o)s.push({city_name:e.children[1].value,account:a}),delete dataToSend[`${e.children[1].value}`];sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend));const e=s;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_city_for_account/",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?($(".loader").toggleClass("d-block"),storeScrollPosition(),location.reload()):0==e.success&&(alert("Адрес не удален"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Адрес не может быть удален"),$(".loader").toggleClass("d-block")}})}})),$(".delete_for_all_button").off("click").on("click",(function(){const e=$(".item_delete_chekbox_for_id:checkbox:checked").closest(".row_adress_item").get(),o=$(".check_all:checkbox:checked").closest(".city_name").get();let t=[],s=[];const a=parseInt($("select").find(":selected").data("id"));if(Number.isNaN(a)){if(0!==e.length){$(".loader").toggleClass("d-block"),t={},t.id=0,t.addresses=[];for(const o of e)t.addresses.push({address:parseInt(o.attributes["data-id"].nodeValue)});const o=t;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_address_for_all_accounts/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}if(0!==o.length){$(".loader").toggleClass("d-block"),s=[];for(const e of o)s.push({city_name:e.children[1].value}),delete dataToSend[`${e.children[1].value}`];sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend));const e=s;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_city_for_all/",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&(alert("Город не может быть удален"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Город не может быть удален, ошибка"),$(".loader").toggleClass("d-block")}})}}else{if(0!==e.length){$(".loader").toggleClass("d-block"),t={},t.id=1,t.addresses=[];for(const o of e)t.addresses.push({address:parseInt(o.attributes["data-id"].nodeValue)});const o=t;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_address_for_all_accounts/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}if(0!==o.length){$(".loader").toggleClass("d-block"),s=[];for(const e of o)s.push({city_name:e.children[1].value}),delete dataToSend[`${e.children[1].value}`];sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend));const e=s;$.ajax({type:"POST",url:HOST_ADDR+"/api/delete_city_for_all/",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){1==e.success?(storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")):0==e.success&&(alert("Город не может быть удален"),$(".loader").toggleClass("d-block"))},error:function(e,o,t){console.log(e,o,t),alert("Город не может быть удален, ошибка"),$(".loader").toggleClass("d-block")}})}}})),$(".add_adresses").off("click").on("click",(function(){const e=$(this).closest(".adress_city").find(".city_input").val(),o=$("select").find(":selected").text(),t=parseInt($("select").find(":selected").data("id"));Number.isNaN(t)&&$(".modal_add_adress .add_for_account").addClass("d-none"),$(".modal_add_adress .title_city").text("Адреса для города: "+e),$(".modal_add_adress .title_account").text("Текущий аккаунт: "+o),$(".modal_add_adress").toggleClass("d-block"),$(".modal_add_adress .add_for_account").off("click").on("click",(function(){$(".loader").toggleClass("d-block");if(0!==$("#adresses_push").val().trim().length)if(Number.isNaN(t)){const o=$("#adresses_push").val().trim().split("\n").map((o=>({city:e,address:o.trim(),start:!1,time_used:"0000-00-00"})));$.ajax({type:"POST",url:HOST_ADDR+"/api/add_address_for_all_accounts/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){if(1==e.success&&0==e.existed_address.length)storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block");else if(1==e.success&&0!==e.existed_address.length){const o=e.existed_address.join(",\n");alert("Новые адреса были успешно добавлены, следующие дубли будут удалены: "+o),storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")}},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}else if(!Number.isNaN(t)){const t=$("#adresses_push").val().trim().split("\n").map((t=>({city:e,address:t.trim(),account_name:o,start:!1,time_used:"0000-00-00"})));$.ajax({type:"POST",url:HOST_ADDR+"/api/add_address_for_account/",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",success:function(e){if(1==e.success&&0==e.existed_address.length)storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block");else if(1==e.success&&0!==e.existed_address.length){const o=e.existed_address.join(",\n");alert("Новые адреса были успешно добавлены, следующие дубли будут удалены: "+o),storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")}},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}})),$(".modal_add_adress .add_for_all").off("click").on("click",(function(){$(".loader").toggleClass("d-block");if(0!==$("#adresses_push").val().trim().length){const o=$("#adresses_push").val().trim().split("\n").map((o=>({city:e,address:o.trim()})));$.ajax({type:"POST",url:HOST_ADDR+"/api/add_address_for_all_accounts/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(e){if(1==e.success&&0==e.existed_address.length)storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block");else if(1==e.success&&0!==e.existed_address.length){const o=e.existed_address.join(",\n");alert("Новые адреса были успешно добавлены, следующие дубли будут удалены: "+o),storeScrollPosition(),location.reload(),$(".loader").toggleClass("d-block")}},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}}))})),$(".add_city").off("click").on("click",(function(){$(this).closest(".adress_city").find(".city_input").val();const e=$("select").find(":selected").text(),o=parseInt($("select").find(":selected").data("id"));Number.isNaN(o)&&$(".modal_add_city .add_for_account").addClass("d-none"),$(".modal_add_city .title_account").text("Текущий аккаунт: "+e),$(".modal_add_city").toggleClass("d-block"),$(".modal_add_city .add_for_account").off("click").on("click",(function(){$(".loader").toggleClass("d-block");if(0!==$("#city_push").val().trim().length)if(Number.isNaN(o)){const e=$("#city_push").val().trim(),o={city_name:e};$.ajax({type:"POST",url:HOST_ADDR+"/api/add_city_for_all/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(o){1==o.success?(storeScrollPosition(),dataToSend[`${e}`]=1,sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend)),location.reload()):0==o.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}else if(!Number.isNaN(o)){const e=$("#city_push").val().trim(),t={city:e,account_id:o};$.ajax({type:"POST",url:HOST_ADDR+"/api/add_city_for_account/",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",success:function(o){1==o.success?(storeScrollPosition(),dataToSend[`${e}`]=1,sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend)),location.reload()):0==o.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}})),$(".modal_add_city .add_for_all").off("click").on("click",(function(){$(".loader").toggleClass("d-block");if(0!==$("#city_push").val().trim().length){const e=$("#city_push").val().trim(),o={city_name:e};$.ajax({type:"POST",url:HOST_ADDR+"/api/add_city_for_all/",data:JSON.stringify(o),contentType:"application/json; charset=utf-8",success:function(o){1==o.success?(storeScrollPosition(),dataToSend[`${e}`]=1,sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend)),location.reload()):0==o.success&&($(".loader").toggleClass("d-block"),alert("Такой адрес уже существует"))},error:function(e,o,t){console.log(e,o,t),$(".loader").toggleClass("d-block"),alert("Такой адрес уже существует, ошибка")}})}}))})),$(".b-pageNum-n").off("click").on("click",(function(){$(".loader").toggleClass("d-block");const e=$(this).closest(".adress_city");console.log(e);const o=e.find(".city_input").val();dataToSend[`${o}`]=$(this).data("page"),sessionStorage.setItem("URLParamsForPagination",JSON.stringify(dataToSend)),storeScrollPosition(),location.replace(`/adresses/?account_name=${getAccountURLValue()}`)})),$(".exit_edits").off("click").on("click",(function(){$(".exit_edits").hasClass("d-none")||(storeScrollPosition(),location.reload())})),$('[data-content="closeX"]').off("click").on("click",(function(){$(this).closest(".modal").toggleClass("d-block")})),$("select").on("change",(function(){const e=$('select[name="accounts"] option').filter(":selected").val();window.location.replace(BASE_HOST_APP+"/adresses/?account_name="+e)}))}))}}else 401===l.status?(""===localStorage.getItem("sessionToken")&&null===localStorage.getItem("sessionToken")&&void 0===localStorage.getItem("sessionToken")||(localStorage.removeItem("sessionToken"),location.replace("/")),location.replace("/")):(console.log("Error:",l.statusText),""===localStorage.getItem("sessionToken")&&null===localStorage.getItem("sessionToken")&&void 0===localStorage.getItem("sessionToken")||(localStorage.removeItem("sessionToken"),location.replace("/")),location.replace("/"))}catch(m){console.error("An error occurred:",m),""===localStorage.getItem("sessionToken")&&null===localStorage.getItem("sessionToken")&&void 0===localStorage.getItem("sessionToken")||(localStorage.removeItem("sessionToken"),location.replace("/")),location.replace("/")}}gatherData(HOST_ADDR+"/api/get_accounts/",sessionTokenAddress),"all_accounts"===getAccountURLValue()?0!==sessionStorage.length?gatherData(HOST_ADDR+"/api/get_all_addresses/?data="+sessionStorage.getItem("URLParamsForPagination"),sessionTokenAddress):gatherData(HOST_ADDR+"/api/get_all_addresses/",sessionTokenAddress):0!==sessionStorage.length?gatherData(HOST_ADDR+`/api/get_address_for_account/?account_name=${getAccountURLValue()}&data=${sessionStorage.getItem("URLParamsForPagination")}`,sessionTokenAddress):gatherData(HOST_ADDR+`/api/get_address_for_account/?account_name=${getAccountURLValue()}`,sessionTokenAddress);